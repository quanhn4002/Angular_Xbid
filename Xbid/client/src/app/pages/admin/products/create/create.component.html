<h2 class="text-center my-3">Product Add</h2>


<form [formGroup]="addProductForm" (ngSubmit)="handleCreateProduct()" class="form-div" >
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input
      type="text"
      class="form-control"
      id="title"
      formControlName="title"
    />
    @if(addProductForm.controls['title'].touched &&
    addProductForm.controls['title'].errors?.['required']) {
    <span class="text-danger text-small"><small>Title is Required</small></span>
    }
  </div>
  <div class="mb-3">
    <label for="image" class="form-label">Image</label>
    <input
      type="text"
      class="form-control"
      id="image"
      formControlName="image"
    />
    @if(addProductForm.controls['image'].touched &&
    addProductForm.controls['image'].errors?.['required']) {
    <span class="text-danger text-small"><small>Image is Required</small></span>
    }
  </div>
  <div class="mb-3">
    <label for="price" class="form-label">Price</label>
    <input
      type="number"
      class="form-control"
      id="price"
      formControlName="price"
    />
    @if(addProductForm.controls['price'].touched &&
    addProductForm.controls['price'].errors?.['min']) {
    <span class="text-danger text-small"><small>Price Min 0</small></span>
    }
    @if(addProductForm.controls['price'].touched &&
    addProductForm.controls['price'].errors?.['required']) {
    <span class="text-danger text-small"><small>Price is Required</small></span>
    }
  </div>
  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea
      class="form-control"
      id="description"
      rows="3"
      formControlName="description"
    ></textarea>
    @if(addProductForm.controls['description'].touched &&
    addProductForm.controls['description'].errors?.['required']) {
    <span class="text-danger text-small"><small>Description is Required</small></span>
    }
  </div>
  <div class="mb-3">
    <label for="category" class="form-label">Category</label>
    <select class="form-control" id="category" formControlName="category">
      <option value="">Select Category</option>
      @for (category of categories; track category._id) {
      <option value="{{ category._id }}">{{ category.name }}</option>
      }
    </select>
    @if(addProductForm.controls['category'].touched &&
    addProductForm.controls['category'].errors?.['required']) {
    <span class="text-danger text-small"><small>Category is Required</small></span>
    }
  </div>
  <div class="mb-3">
    <label for="startAt" class="form-label">Start At</label>
    <input
      type="datetime-local"
      class="form-control"
      id="startAt"
      formControlName="startAt"
    />
  </div>
  <div class="mb-3">
    <label for="times" class="form-label">Select Times</label>
    <select class="form-control" id="times" formControlName="bidTime">
      <option value="">Select Time</option>
      <option value="15">15p</option>
      <option value="30">30p</option>
      <option value="60">1h</option>
    </select>
  </div>
  <div class="mb-3 form-check">
    <input
      type="checkbox"
      class="form-check-input"
      id="isShow"
      checked
      formControlName="isShow"
    />
    <label class="form-check-label" for="isShow">Show Product</label>
  </div>
  <button type="submit" class="btn btn-primary">Create Product</button>
  <a href="/admin/products/list" class="btn btn-danger" style="margin-left: 10px;" >Cannel</a>
</form>
